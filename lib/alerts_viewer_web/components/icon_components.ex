defmodule AlertsViewerWeb.IconComponents do
  @moduledoc """
  Provides components for rendering custom icons.
  """
  use Phoenix.Component

  @doc """
  Renders a route or mode icon.
  """
  attr :type, :string, required: true

  def mode_icon(%{type: "Red"} = assigns) do
    ~H"""
    <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
      <g fill="none" fill-rule="evenodd">
        <path
          d="M12 0C5.372 0 0 5.373 0 12c0 6.628 5.372 12 12 12 6.627 0 12-5.372 12-12 0-6.627-5.373-12-12-12"
          fill="#FFF"
        />
        <path
          d="M12 0C5.372 0 0 5.372 0 12s5.372 12 12 12 12-5.372 12-12S18.628 0 12 0"
          fill="#DA291C"
        />
        <path
          d="M7.815 11.524c.526 0 .922-.112 1.185-.336.263-.224.395-.589.395-1.093 0-.485-.132-.838-.395-1.057-.263-.22-.659-.33-1.185-.33H5.298v2.816h2.517zM8.635 7c.467 0 .89.072 1.265.217.376.145.698.343.966.595a2.595 2.595 0 0 1 .827 1.947c0 .588-.13 1.097-.388 1.527-.259.43-.68.756-1.266.98v.028c.283.075.517.189.702.343.186.155.337.336.454.547.117.21.202.44.256.693.053.252.09.504.11.756.01.159.02.345.03.56.009.215.026.434.05.659.025.224.064.436.117.637.054.2.135.37.242.511H9.702a3.72 3.72 0 0 1-.234-1.134c-.029-.439-.073-.86-.131-1.261-.079-.523-.245-.905-.498-1.148-.254-.243-.669-.365-1.244-.365H5.298V17H3V7h5.634zm7.541 0v8.151H21V17h-7V7z"
          fill="#FFF"
        />
      </g>
    </svg>
    """
  end

  def mode_icon(%{type: "Blue"} = assigns) do
    ~H"""
    <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
      <defs>
        <path d="M0 .154h8.831V11H0z" />
        <path d="M.214.154h7.552V11H.214z" />
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M12 0C5.372 0 0 5.373 0 12c0 6.628 5.372 12 12 12 6.627 0 12-5.372 12-12 0-6.627-5.373-12-12-12"
          fill="#FFF"
        />
        <path
          d="M12 0C5.372 0 0 5.373 0 12c0 6.628 5.372 12 12 12 6.627 0 12-5.372 12-12 0-6.627-5.373-12-12-12"
          fill="#003DA5"
        />
        <g transform="translate(3 7)">
          <mask fill="#fff">
            <use xlink:href="#a" />
          </mask>
          <path
            d="M4.8 9.147c.226 0 .443-.023.65-.068.207-.046.389-.122.546-.228.157-.107.283-.251.377-.433.093-.183.14-.416.14-.7 0-.556-.153-.954-.458-1.191-.305-.239-.709-.358-1.211-.358H2.319v2.978h2.48zm-.133-4.603c.413 0 .753-.101 1.019-.304.266-.202.399-.531.399-.987 0-.253-.044-.46-.133-.623a1.006 1.006 0 0 0-.355-.38 1.472 1.472 0 0 0-.51-.19 3.269 3.269 0 0 0-.597-.053H2.319v2.537h2.348zm.295-4.39c.503 0 .96.046 1.374.137.413.09.768.24 1.063.448.296.207.524.484.687.828.162.344.244.77.244 1.276 0 .547-.121 1.002-.362 1.367-.242.364-.599.663-1.071.896.65.193 1.135.53 1.455 1.01.32.481.48 1.061.48 1.74 0 .546-.104 1.02-.31 1.42-.207.4-.486.727-.835.98-.35.253-.748.44-1.197.562A5.25 5.25 0 0 1 5.11 11H0V.154h4.962z"
            fill="#FFF"
            mask="url(#b)"
          />
        </g>
        <g transform="translate(13 7)">
          <mask fill="#fff">
            <use xlink:href="#c" />
          </mask>
          <path fill="#FFF" mask="url(#d)" d="M2.562.154v8.84h5.204V11H.214V.154z" />
        </g>
      </g>
    </svg>
    """
  end

  def mode_icon(%{type: "Orange"} = assigns) do
    ~H"""
    <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
      <defs>
        <path d="M0 .167h10.116v10.764H0z" />
        <path d="M.229.412h7.277v10.29H.23z" />
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M12 0C5.372 0 0 5.373 0 12c0 6.628 5.372 12 12 12 6.627 0 12-5.372 12-12 0-6.627-5.373-12-12-12"
          fill="#FFF"
        />
        <path
          d="M12 0C5.372 0 0 5.373 0 12c0 6.628 5.372 12 12 12 6.627 0 12-5.372 12-12 0-6.627-5.373-12-12-12"
          fill="#ED8B00"
        />
        <g transform="translate(2 6.33)">
          <mask fill="#fff">
            <use xlink:href="#a" />
          </mask>
          <path
            d="M2.414 6.86c.1.41.261.777.483 1.104.22.326.508.588.864.785.355.196.788.295 1.297.295.51 0 .942-.099 1.297-.295.355-.197.643-.459.865-.785.22-.327.381-.695.483-1.103.1-.408.15-.828.15-1.261 0-.451-.05-.889-.15-1.311a3.49 3.49 0 0 0-.483-1.131 2.455 2.455 0 0 0-.865-.793c-.355-.197-.788-.296-1.297-.296-.51 0-.942.1-1.297.296a2.45 2.45 0 0 0-.864.793 3.458 3.458 0 0 0-.483 1.131c-.1.422-.151.86-.151 1.31 0 .434.05.854.151 1.262M.346 3.46c.23-.659.562-1.233.994-1.723.433-.49.963-.874 1.593-1.152C3.562.306 4.27.167 5.058.167c.798 0 1.508.14 2.133.419a4.573 4.573 0 0 1 1.585 1.152c.432.49.764 1.064.994 1.722.23.658.346 1.372.346 2.14 0 .75-.115 1.448-.346 2.097a5.003 5.003 0 0 1-.994 1.693 4.565 4.565 0 0 1-1.586 1.13c-.625.274-1.335.41-2.133.41-.788 0-1.496-.136-2.125-.41A4.544 4.544 0 0 1 1.34 9.39a5.003 5.003 0 0 1-.994-1.693A6.213 6.213 0 0 1 0 5.6c0-.768.115-1.482.346-2.14"
            fill="#FFF"
            mask="url(#b)"
          />
        </g>
        <g transform="translate(13.429 6.33)">
          <mask fill="#fff">
            <use xlink:href="#c" />
          </mask>
          <path fill="#FFF" mask="url(#d)" d="M2.491.412V8.8h5.015v1.902H.23V.412z" />
        </g>
      </g>
    </svg>
    """
  end

  def mode_icon(%{type: "Green-B"} = assigns) do
    ~H"""
    <svg width="20" height="20" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
      <path d="M8 0a8 8 0 1 0 8 8 8 8 0 0 0-8-8" fill="#00843d" />
      <path
        d="M8.59 4a5.3979 5.3979 0 0 1 1.0856.1012 2.3943 2.3943 0 0 1 .8395.33 1.5577 1.5577 0 0 1 .5422.6106 2.0668 2.0668 0 0 1 .1926.941 1.7013 1.7013 0 0 1-.286 1.0083 2.06 2.06 0 0 1-.8452.6614 2.0033 2.0033 0 0 1 1.1482.7451 2.1514 2.1514 0 0 1 .3794 1.2829 2.1366 2.1366 0 0 1-.2449 1.0477 2.0576 2.0576 0 0 1-.66.7221 2.9575 2.9575 0 0 1-.9443.4147A4.4245 4.4245 0 0 1 8.7078 12H4.6719V4zm-.2331 3.2382a1.3524 1.3524 0 0 0 .8054-.2243.8317.8317 0 0 0 .3144-.7282.8922.8922 0 0 0-.1048-.459.7518.7518 0 0 0-.2791-.28 1.2228 1.2228 0 0 0-.4033-.14 2.7534 2.7534 0 0 0-.4716-.0394H6.5024v1.871zm.1059 3.3946a2.51 2.51 0 0 0 .5126-.05 1.2918 1.2918 0 0 0 .4318-.1679.8617.8617 0 0 0 .2973-.3195A1.06 1.06 0 0 0 9.815 9.58a1.0169 1.0169 0 0 0-.3611-.8792 1.591 1.591 0 0 0-.9569-.2637H6.5024v2.196z"
        fill="#fff"
      />
    </svg>
    """
  end

  def mode_icon(%{type: "Green-C"} = assigns) do
    ~H"""
    <svg width="20" height="20" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
      <path d="M8 0a8 8 0 1 0 8 8 8 8 0 0 0-8-8" fill="#00843d" />
      <path
        d="M9.9124 6.2224a1.6857 1.6857 0 0 0-.3744-.4231 1.7545 1.7545 0 0 0-1.1034-.3859 1.9643 1.9643 0 0 0-.9632.22 1.8205 1.8205 0 0 0-.6432.5894 2.5892 2.5892 0 0 0-.3587.84 4.227 4.227 0 0 0-.1119.9747 3.93 3.93 0 0 0 .1119.937 2.5346 2.5346 0 0 0 .3587.8194 1.8376 1.8376 0 0 0 .6432.5836 1.9577 1.9577 0 0 0 .9632.22 1.5536 1.5536 0 0 0 1.2048-.4711 2.1735 2.1735 0 0 0 .53-1.2424h1.6286a3.88 3.88 0 0 1-.3326 1.2957 3.0876 3.0876 0 0 1-.707.9852 2.997 2.997 0 0 1-1.028.6212A3.7625 3.7625 0 0 1 8.4346 12a3.9225 3.9225 0 0 1-1.5792-.3054 3.393 3.393 0 0 1-1.1838-.8408 3.7192 3.7192 0 0 1-.7384-1.2581 4.6162 4.6162 0 0 1-.2573-1.5583 4.7732 4.7732 0 0 1 .2573-1.59 3.8314 3.8314 0 0 1 .7384-1.28 3.3919 3.3919 0 0 1 1.1838-.8565A3.8616 3.8616 0 0 1 8.4346 4a3.853 3.853 0 0 1 1.1943.182 3.254 3.254 0 0 1 1.0072.53 2.8628 2.8628 0 0 1 .7331.8623 3.09 3.09 0 0 1 .3639 1.1776h-1.6273a1.3759 1.3759 0 0 0-.1934-.5295z"
        fill="#fff"
      />
    </svg>
    """
  end

  def mode_icon(%{type: "Green-D"} = assigns) do
    ~H"""
    <svg width="20" height="20" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
      <path d="M8 0a8 8 0 1 0 8 8 8 8 0 0 0-8-8" fill="#00843d" />
      <path
        d="M7.91 4a4.1211 4.1211 0 0 1 1.44.2467 3.1258 3.1258 0 0 1 1.1543.74 3.4027 3.4027 0 0 1 .7615 1.232 4.9663 4.9663 0 0 1 .2747 1.737 5.5243 5.5243 0 0 1-.2243 1.6134 3.5523 3.5523 0 0 1-.6773 1.2774 3.1866 3.1866 0 0 1-1.1314.8458A3.8377 3.8377 0 0 1 7.91 12H4.46V4zm-.1225 6.5212a2.252 2.252 0 0 0 .74-.1236 1.6222 1.6222 0 0 0 .6379-.4087 2.043 2.043 0 0 0 .4486-.7451 3.285 3.285 0 0 0 .1686-1.12 4.6465 4.6465 0 0 0-.1182-1.0926 2.1848 2.1848 0 0 0-.3863-.8348 1.7177 1.7177 0 0 0-.7112-.5318 2.8381 2.8381 0 0 0-1.093-.1849H6.2181v5.0419z"
        fill="#fff"
      />
    </svg>
    """
  end

  def mode_icon(%{type: "Green-E"} = assigns) do
    ~H"""
    <svg width="20" height="20" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
      <path d="M8 0a8 8 0 1 0 8 8 8 8 0 0 0-8-8" fill="#00843d" />
      <path
        d="M11.1835 4v1.4793H6.959v1.714h3.8766v1.3672H6.959v1.9607h4.3143V12H5.2006V4z"
        fill="#fff"
      />
    </svg>
    """
  end

  def mode_icon(%{type: "Green"} = assigns) do
    ~H"""
    <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
      <defs>
        <path d="M0 .175h10.01v11.278H0z" />
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M12 0C5.372 0 0 5.373 0 12c0 6.628 5.372 12 12 12 6.627 0 12-5.372 12-12 0-6.627-5.373-12-12-12"
          fill="#FFF"
        />
        <path
          d="M12 0C5.372 0 0 5.373 0 12c0 6.628 5.372 12 12 12 6.627 0 12-5.372 12-12 0-6.627-5.373-12-12-12"
          fill="#00843D"
        />
        <g transform="translate(2 6.345)">
          <mask fill="#fff">
            <use xlink:href="#a" />
          </mask>
          <path
            d="M6.854 11.128a3.965 3.965 0 0 1-1.554.325c-.826 0-1.568-.143-2.227-.43a4.771 4.771 0 0 1-1.669-1.185A5.25 5.25 0 0 1 .362 8.064 6.509 6.509 0 0 1 0 5.867c0-.805.12-1.552.362-2.242s.59-1.29 1.042-1.804A4.768 4.768 0 0 1 3.073.614C3.732.32 4.474.175 5.3.175a5.21 5.21 0 0 1 1.607.25c.519.166.986.41 1.404.732.418.322.763.72 1.034 1.193.272.472.438 1.016.498 1.63H7.58c-.141-.604-.412-1.057-.815-1.359C6.36 2.32 5.873 2.17 5.3 2.17c-.534 0-.987.103-1.36.309a2.572 2.572 0 0 0-.905.83c-.232.347-.4.742-.506 1.186a5.87 5.87 0 0 0-.158 1.373c0 .453.052.894.158 1.321.106.428.274.813.506 1.155.231.342.533.617.905.823.373.206.826.31 1.36.31.784 0 1.39-.2 1.819-.597.427-.397.676-.974.747-1.728H5.48V5.384h4.53v5.828H8.5l-.242-1.223c-.422.543-.89.923-1.404 1.14"
            fill="#FFF"
            mask="url(#b)"
          />
        </g>
        <path fill="#FFF" d="M16.297 6.777v8.787h5.254v1.993h-7.624V6.777z" />
      </g>
    </svg>
    """
  end

  def mode_icon(%{type: "Mattapan"} = assigns) do
    ~H"""
    <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18">
      <g fill="none" fill-rule="evenodd">
        <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0" fill="#DA291C" />
        <path
          d="M9.51 11.21a.76.76 0 1 1 0-1.52.76.76 0 0 1 0 1.52zM6.3 13.15l.52-1.04h2.36l.52 1.04H6.3zm-.53-2.7a.76.76 0 1 1 1.52.001.76.76 0 0 1-1.52-.001zM6 7h4V5H6v2zm.25-3.15c0-.12.1-.22.23-.22h3.05c.12 0 .22.1.22.22v.43c0 .12-.1.22-.22.22H6.48a.227.227 0 0 1-.23-.23v-.42zm1.36-2.44c.42-.03.83 0 1.22.08v.01l-.38 1.25h-.9l-.39-1.28c.14-.03.29-.05.45-.06zm3.89 9.04V4.42c0-.93-.76-1.67-1.71-1.67h-.82l.34-1.12c.42.13.78.34 1.05.6.08.08.2.08.28 0 .08-.08.08-.2 0-.28-.68-.66-1.85-1.02-3.06-.94-1 .07-1.81.42-2.24.96-.07.08-.05.21.03.28.04.03.08.04.13.04.06 0 .12-.02.16-.07.21-.27.57-.49 1.01-.64l.36 1.17h-.82c-.95 0-1.71.74-1.71 1.67v6.03c0 .84.63 1.52 1.46 1.64L4.5 15h.88l.42-.85.01-.03h4.38l.01.03.42.85h.88l-1.46-2.91c.83-.12 1.46-.8 1.46-1.64z"
          fill="#FFF"
        />
        <path fill="#FFF" d="M10.2 14.15H5.8l.01-.03h4.38z" />
      </g>
    </svg>
    """
  end

  def mode_icon(%{type: "using_escalator"} = assigns) do
    ~H"""
    <svg
      width="24px"
      height="19px"
      viewBox="0 0 24 19"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="#175C96">
          <path d="M21.0154849,6.2366771 L19.0164235,6.2366771 C18.1708111,6.23943243 17.7954005,6.35763141 17.3101823,6.84191567 L7.74847459,16.3576111 C7.36335025,16.7403685 6.87278246,16.892939 6.24495518,16.895601 L3.09150622,16.895601 C2.28151094,16.892939 1.56794926,16.2112517 1.56546216,15.3152558 C1.56794926,14.4207543 2.24838095,13.9191441 2.95072724,13.9198446 L5.11309225,13.9198446 C5.74439208,13.9191441 6.15884537,13.7400944 6.52088196,13.3818548 L16.2402622,3.70924562 C16.6378689,3.3116375 17.0329416,3.26190146 17.7099946,3.26092075 L21.0380095,3.26092075 C21.8495534,3.26190146 22.3941803,4.16261415 22.3951188,4.70116441 C22.3941803,5.23691263 22.0077889,6.23943243 21.0154849,6.2366771 M21.1844196,1.69738776 C22.3941803,1.69925578 24.0014069,2.90884562 23.9999991,4.72358065 C24.0014069,6.55610857 22.4059118,7.82766999 21.2801493,7.8282304 C20.2439692,7.82766999 18.9375873,7.8282304 18.9375873,7.8282304 C18.5876577,7.82766999 18.4752222,7.8835705 18.2731105,8.06360095 L8.78460782,17.4728192 C8.02257125,18.1901857 7.09563558,18.4810832 6.32942256,18.4815502 C5.56635361,18.4810832 3.09150622,18.4815502 3.09150622,18.4815502 C1.09868602,18.4810832 0.00126701074,16.7269654 0,15.337672 C0.00126701074,13.9517411 1.09868602,12.3149817 2.92820261,12.3170832 C2.92820261,12.3170832 4.74711385,12.3154487 4.74706692,12.3170832 C5.298592,12.3149817 5.33280129,12.3028395 5.61426539,12.025672 L8.58751726,9.0611238 L8.58188611,9.0611238 L8.58188611,4.99257557 C8.58197996,2.89366796 11.7305017,2.8703177 11.7297039,4.99257557 L11.7297039,5.99009842 L15.1534485,2.58843344 C15.7396991,2.00635831 16.7230871,1.69523953 17.4903794,1.69738776 L21.1844196,1.69738776 Z M10.1827534,3.23213419 C9.287121,3.23246789 8.56305564,2.5090991 8.56205344,1.61892739 C8.56305564,0.724703597 9.287121,0.00143014787 10.1827534,0 C11.0734703,0.00143014787 11.7975356,0.724703597 11.7977265,1.61892739 C11.7975356,2.5090991 11.0734703,3.23246789 10.1827534,3.23213419 Z">
          </path>
        </g>
      </g>
    </svg>
    """
  end

  def mode_icon(%{type: "using_wheelchair"} = assigns) do
    ~H"""
    <svg width="15" height="24" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M3.42 13.491a.68.68 0 1 1 1.359 0 .68.68 0 0 1-1.359 0zm-.88 3.97v-2.582a.498.498 0 0 1 .496-.502c0 .002 2.11 0 2.11 0 .28.002.495.227.495.502v2.582a.357.357 0 0 1-.36.36h-.225v3.403c.003.618-.9.618-.903 0v-3.402h-.136v3.402c0 .613-.904.613-.904 0v-3.402H2.9a.361.361 0 0 1-.36-.361zm4.13-3.97a.68.68 0 1 1 1.358 0 .68.68 0 0 1-1.359 0zm-.881 3.97v-2.582a.498.498 0 0 1 .496-.502c0 .002 2.109 0 2.109 0 .28.002.495.227.496.502v2.582a.357.357 0 0 1-.36.36h-.225v3.403c.003.618-.901.618-.903 0v-3.402h-.136v3.402c0 .613-.904.613-.904 0v-3.402h-.213a.361.361 0 0 1-.36-.361zm4.129-3.97a.68.68 0 1 1 1.359 0 .68.68 0 0 1-1.359 0zm-.88 3.97v-2.582a.498.498 0 0 1 .496-.502c0 .002 2.109 0 2.109 0 .28.002.495.227.496.502v2.582a.357.357 0 0 1-.36.36h-.225v3.403c.003.618-.901.618-.904 0v-3.402h-.135v3.402c0 .613-.904.613-.904 0v-3.402h-.213a.361.361 0 0 1-.36-.361zM.308 3.49L2.941.324c.417-.417.96-.42 1.376 0L6.97 3.48c.818.932-.508 2.086-1.264 1.258L4.613 3.402l.036 4.259c-.014 1.417-2.044 1.401-2.032 0l.03-4.259-1.082 1.347C.826 5.589-.512 4.424.307 3.49zm7.371 1.736c-.82-.933.519-2.099 1.258-1.258l1.081 1.347-.03-4.26c-.012-1.4 2.019-1.416 2.033 0l-.035 4.26 1.092-1.335c.756-.828 2.082.326 1.264 1.264L11.69 8.393c-.416.421-.96.419-1.376 0L7.679 5.227zM2.026 21.968h10.615v-10.55H2.026v10.55zM12.712 9.362H1.962C.825 9.365.001 10.254 0 11.323v10.734C0 23.15.888 24.003 1.961 24h10.763c1.073.002 1.947-.8 1.943-1.943V11.323a1.949 1.949 0 0 0-1.955-1.96z"
        fill="#175C96"
        fill-rule="evenodd"
      />
    </svg>
    """
  end

  def mode_icon(%{type: "park_car"} = assigns) do
    # Placeholder
    ~H"""
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" height="22" fill="#175C96">
      <!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
      <path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM192 256h48c17.7 0 32-14.3 32-32s-14.3-32-32-32H192v64zm48 64H192v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V288 168c0-22.1 17.9-40 40-40h72c53 0 96 43 96 96s-43 96-96 96z" />
    </svg>
    """
  end

  def mode_icon(%{type: "bike"} = assigns) do
    ~H"""
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" height="22" fill="#175C96">
      <!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->
      <path d="M312 32c-13.3 0-24 10.7-24 24s10.7 24 24 24h25.7l34.6 64H222.9l-27.4-38C191 99.7 183.7 96 176 96H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h43.7l22.1 30.7-26.6 53.1c-10-2.5-20.5-3.8-31.2-3.8C57.3 224 0 281.3 0 352s57.3 128 128 128c65.3 0 119.1-48.9 127-112h49c8.5 0 16.3-4.5 20.7-11.8l84.8-143.5 21.7 40.1C402.4 276.3 384 312 384 352c0 70.7 57.3 128 128 128s128-57.3 128-128s-57.3-128-128-128c-13.5 0-26.5 2.1-38.7 6L375.4 48.8C369.8 38.4 359 32 347.2 32H312zM458.6 303.7l32.3 59.7c6.3 11.7 20.9 16 32.5 9.7s16-20.9 9.7-32.5l-32.3-59.7c3.6-.6 7.4-.9 11.2-.9c39.8 0 72 32.2 72 72s-32.2 72-72 72s-72-32.2-72-72c0-18.6 7-35.5 18.6-48.3zM133.2 368h65c-7.3 32.1-36 56-70.2 56c-39.8 0-72-32.2-72-72s32.2-72 72-72c1.7 0 3.4 .1 5.1 .2l-24.2 48.5c-9 18.1 4.1 39.4 24.3 39.4zm33.7-48l50.7-101.3 72.9 101.2-.1 .1H166.8zm90.6-128H365.9L317 274.8 257.4 192z" />
    </svg>
    """
  end

  def mode_icon(%{type: "CR-" <> _} = assigns) do
    ~H"""
    <span class="align-middle bg-cr font-bold h-full py-1 px-2 rounded-3xl text-sm text-white uppercase">
      <%= route_name(@type) %>
    </span>
    """
  end

  # Bus
  def mode_icon(assigns) do
    ~H"""
    <span class="align-middle bg-bus font-bold h-full py-1 px-2 rounded text-black text-sm uppercase">
      <%= route_name(@type) %>
    </span>
    """
  end

  def alert_icon(assigns) do
    ~H"""
    <Heroicons.exclamation_triangle mini class="fill-brand h-5 w-5 " />
    """
  end

  defp route_name("CR-" <> line_name), do: line_name
  defp route_name(name), do: name
end
